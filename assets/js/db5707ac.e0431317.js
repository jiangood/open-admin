"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[46],{3595(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"api/backend/annotations","title":"\u540e\u7aef\u6ce8\u89e3","description":"\u672c\u6587\u6863\u4ecb\u7ecd\u4e86 open-admin \u540e\u7aef\u6846\u67b6\u4e2d\u63d0\u4f9b\u7684\u6838\u5fc3\u6ce8\u89e3\u3002","source":"@site/docs/api/backend/annotations.md","sourceDirName":"api/backend","slug":"/api/backend/annotations","permalink":"/open-admin/api/backend/annotations","draft":false,"unlisted":false,"editUrl":"https://github.com/jiangood/open-admin/tree/master/site/docs/api/backend/annotations.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u540e\u7aef\u5de5\u5177\u7c7b","permalink":"/open-admin/api/backend/utils"},"next":{"title":"\u540e\u7aef\u9a8c\u8bc1\u5668","permalink":"/open-admin/api/backend/validators"}}');var d=i(4848),t=i(8453);const s={},c="\u540e\u7aef\u6ce8\u89e3",l={},o=[{value:"ID \u751f\u6210\u76f8\u5173\u6ce8\u89e3",id:"id-\u751f\u6210\u76f8\u5173\u6ce8\u89e3",level:2},{value:"GeneratePrefixedSequence",id:"generateprefixedsequence",level:3},{value:"GenerateUuidV7",id:"generateuuidv7",level:3},{value:"\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u5668",id:"\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u5668",level:2},{value:"BaseConverter",id:"baseconverter",level:3},{value:"ToListConverter",id:"tolistconverter",level:3},{value:"\u4f5c\u4e1a\u8c03\u5ea6\u6ce8\u89e3",id:"\u4f5c\u4e1a\u8c03\u5ea6\u6ce8\u89e3",level:2},{value:"JobDescription",id:"jobdescription",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"\u540e\u7aef\u6ce8\u89e3",children:"\u540e\u7aef\u6ce8\u89e3"})}),"\n",(0,d.jsx)(n.p,{children:"\u672c\u6587\u6863\u4ecb\u7ecd\u4e86 open-admin \u540e\u7aef\u6846\u67b6\u4e2d\u63d0\u4f9b\u7684\u6838\u5fc3\u6ce8\u89e3\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"id-\u751f\u6210\u76f8\u5173\u6ce8\u89e3",children:"ID \u751f\u6210\u76f8\u5173\u6ce8\u89e3"}),"\n",(0,d.jsx)(n.h3,{id:"generateprefixedsequence",children:"GeneratePrefixedSequence"}),"\n",(0,d.jsx)(n.p,{children:"\u4f7f\u7528\u524d\u7f00\u7684\u5e8f\u5217ID\u751f\u6210\u5668\u6ce8\u89e3\u3002"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u53c2\u6570"}),"\uff1a"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u53c2\u6570"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,d.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,d.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"prefix"})}),(0,d.jsx)(n.td,{children:"ID\u524d\u7f00"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"-"})]})})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4f7f\u7528\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'import io.github.jiangood.openadmin.framework.data.annotation.GeneratePrefixedSequence;\n\npublic class User {\n    @GeneratePrefixedSequence(prefix = "USER")\n    private String id;\n    \n    // \u5176\u4ed6\u5b57\u6bb5...\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"generateuuidv7",children:"GenerateUuidV7"}),"\n",(0,d.jsx)(n.p,{children:"UUID V7 ID\u751f\u6210\u5668\u6ce8\u89e3\u3002"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4f7f\u7528\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:"import io.github.jiangood.openadmin.framework.data.annotation.GenerateUuidV7;\n\npublic class Order {\n    @GenerateUuidV7\n    private String id;\n    \n    // \u5176\u4ed6\u5b57\u6bb5...\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u5668",children:"\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u5668"}),"\n",(0,d.jsx)(n.h3,{id:"baseconverter",children:"BaseConverter"}),"\n",(0,d.jsx)(n.p,{children:"\u57fa\u7840\u8f6c\u6362\u5668\uff0c\u7528\u4e8e\u5c06Java\u5bf9\u8c61\u4e0e\u6570\u636e\u5e93\u5b57\u7b26\u4e32\u5b57\u6bb5\u4e4b\u95f4\u8fdb\u884c\u8f6c\u6362\uff0c\u4f7f\u7528JSON\u683c\u5f0f\u8fdb\u884c\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u3002"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u65b9\u6cd5\u5217\u8868"}),"\uff1a"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u65b9\u6cd5"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,d.jsx)(n.th,{children:"\u53c2\u6570"}),(0,d.jsx)(n.th,{children:"\u8fd4\u56de\u503c"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"convertToDatabaseColumn(input)"})}),(0,d.jsx)(n.td,{children:"\u5c06\u5bf9\u8c61\u8f6c\u6362\u4e3aJSON\u5b57\u7b26\u4e32"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(T)"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"convertToEntityAttribute(dbData)"})}),(0,d.jsx)(n.td,{children:"\u5c06JSON\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5bf9\u8c61"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(String)"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"T"})})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"tolistconverter",children:"ToListConverter"}),"\n",(0,d.jsx)(n.p,{children:"\u901a\u7528\u5217\u8868\u8f6c\u6362\u5668\u3002"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u65b9\u6cd5\u5217\u8868"}),"\uff1a"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u65b9\u6cd5"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,d.jsx)(n.th,{children:"\u53c2\u6570"}),(0,d.jsx)(n.th,{children:"\u8fd4\u56de\u503c"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"convertToDatabaseColumn(list)"})}),(0,d.jsx)(n.td,{children:"\u5c06\u5b57\u7b26\u4e32\u5217\u8868\u8f6c\u6362\u4e3a\u9017\u53f7\u5206\u9694\u7684\u5b57\u7b26\u4e32"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(List<String>)"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"convertToEntityAttribute(dbData)"})}),(0,d.jsx)(n.td,{children:"\u5c06\u9017\u53f7\u5206\u9694\u7684\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u5217\u8868"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(String)"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"List<String>"})})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"\u4f5c\u4e1a\u8c03\u5ea6\u6ce8\u89e3",children:"\u4f5c\u4e1a\u8c03\u5ea6\u6ce8\u89e3"}),"\n",(0,d.jsx)(n.h3,{id:"jobdescription",children:"JobDescription"}),"\n",(0,d.jsx)(n.p,{children:"\u4f5c\u4e1a\u63cf\u8ff0\u6ce8\u89e3\uff0c\u7528\u4e8e\u5b9a\u4e49\u5b9a\u65f6\u4efb\u52a1\u7684\u57fa\u672c\u4fe1\u606f\u548c\u53c2\u6570\u3002"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u53c2\u6570"}),"\uff1a"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u53c2\u6570"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,d.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,d.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"label"})}),(0,d.jsx)(n.td,{children:"\u4f5c\u4e1a\u6807\u7b7e"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"-"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"params"})}),(0,d.jsx)(n.td,{children:"\u53c2\u6570\u5b9a\u4e49"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"FieldDescription[]"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"{}"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"paramsProvider"})}),(0,d.jsx)(n.td,{children:"\u53c2\u6570\u63d0\u4f9b\u8005"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"JobParamFieldProvider"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"JobParamFieldProvider.class"})})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4f7f\u7528\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'import io.github.jiangood.openadmin.framework.job.BaseJob;\nimport io.github.jiangood.openadmin.framework.job.annotation.JobDescription;\nimport io.github.jiangood.openadmin.framework.job.annotation.FieldDescription;\n\n@JobDescription(label = "\u793a\u4f8b\u4f5c\u4e1a", params = {\n    @FieldDescription(name = "param1", label = "\u53c2\u65701")\n})\npublic class ExampleJob extends BaseJob {\n    @Override\n    public String execute(JobDataMap data, Logger logger) throws Exception {\n        logger.info("\u6267\u884c\u793a\u4f8b\u4f5c\u4e1a");\n        // \u4f5c\u4e1a\u903b\u8f91\n        return "\u6267\u884c\u5b8c\u6210";\n    }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>s,x:()=>c});var r=i(6540);const d={},t=r.createContext(d);function s(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:s(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);