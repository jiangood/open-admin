"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[975],{3075(e,d,n){n.r(d),n.d(d,{assets:()=>t,contentTitle:()=>l,default:()=>x,frontMatter:()=>c,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"api/backend/utils","title":"\u540e\u7aef\u5de5\u5177\u7c7b","description":"\u672c\u6587\u6863\u4ecb\u7ecd\u4e86 open-admin \u540e\u7aef\u6846\u67b6\u4e2d\u63d0\u4f9b\u7684\u6838\u5fc3\u5de5\u5177\u7c7b\u3002","source":"@site/docs/api/backend/utils.md","sourceDirName":"api/backend","slug":"/api/backend/utils","permalink":"/open-admin/api/backend/utils","draft":false,"unlisted":false,"editUrl":"https://github.com/jiangood/open-admin/tree/master/site/docs/api/backend/utils.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u540e\u7aef\u6570\u636e\u89c4\u8303","permalink":"/open-admin/api/backend/data-spec"},"next":{"title":"\u540e\u7aef\u6ce8\u89e3","permalink":"/open-admin/api/backend/annotations"}}');var r=n(4848),i=n(8453);const c={},l="\u540e\u7aef\u5de5\u5177\u7c7b",t={},h=[{value:"ExcelUtils",id:"excelutils",level:2},{value:"JdbcUtils",id:"jdbcutils",level:2},{value:"LoginUtils",id:"loginutils",level:2},{value:"RemarkUtils",id:"remarkutils",level:2}];function j(e){const d={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.header,{children:(0,r.jsx)(d.h1,{id:"\u540e\u7aef\u5de5\u5177\u7c7b",children:"\u540e\u7aef\u5de5\u5177\u7c7b"})}),"\n",(0,r.jsx)(d.p,{children:"\u672c\u6587\u6863\u4ecb\u7ecd\u4e86 open-admin \u540e\u7aef\u6846\u67b6\u4e2d\u63d0\u4f9b\u7684\u6838\u5fc3\u5de5\u5177\u7c7b\u3002"}),"\n",(0,r.jsx)(d.h2,{id:"excelutils",children:"ExcelUtils"}),"\n",(0,r.jsx)(d.p,{children:"Excel\u5bfc\u5165\u5bfc\u51fa\u5de5\u5177\u7c7b\uff0c\u63a8\u8350\u6784\u9020\u5355\u72ec\u7684Bean\u7528\u4e8e\u5bfc\u5165\u5bfc\u51fa\u3002"}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.strong,{children:"\u65b9\u6cd5\u5217\u8868"}),"\uff1a"]}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u65b9\u6cd5"}),(0,r.jsx)(d.th,{children:"\u8bf4\u660e"}),(0,r.jsx)(d.th,{children:"\u53c2\u6570"}),(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"importExcel(cls, is)"})}),(0,r.jsx)(d.td,{children:"\u5bfc\u5165Excel"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Class<T>, InputStream)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"List<T>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"exportExcel(cls, list, os)"})}),(0,r.jsx)(d.td,{children:"\u5bfc\u51faExcel"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Class<T>, List<T>, OutputStream)"})}),(0,r.jsx)(d.td,{children:"-"})]})]})]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.strong,{children:"\u4f7f\u7528\u6ce8\u89e3"}),"\uff1a\u4f7f\u7528",(0,r.jsx)(d.code,{children:"@Remark"}),"\u6ce8\u89e3\u6765\u6620\u5c04Excel\u5217\u4e0e\u5b9e\u4f53\u5b57\u6bb5\u3002"]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.strong,{children:"\u4f7f\u7528\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-java",children:'// \u5728\u5b9e\u4f53\u7c7b\u4e0a\u4f7f\u7528@Remark\u6ce8\u89e3\npublic class User {\n    @Remark("\u7528\u6237\u540d")\n    private String username;\n\n    @Remark("\u5e74\u9f84")\n    private Integer age;\n\n    // getter/setter...\n}\n\n// \u5bfc\u5165Excel\nList<User> users = io.github.jiangood.openadmin.lang.excel.ExcelTool.importExcel(User.class, inputStream);\n\n// \u5bfc\u51faExcel\nio.github.jiangood.openadmin.lang.excel.ExcelTool.exportExcel(User.class, users, outputStream);\n'})}),"\n",(0,r.jsx)(d.h2,{id:"jdbcutils",children:"JdbcUtils"}),"\n",(0,r.jsx)(d.p,{children:"Spring Boot\u73af\u5883\u4e0b\u7684\u539f\u751fSQL\u5de5\u5177\u7c7b\uff0c\u57fa\u4e8eSpring\u7684JdbcTemplate\u5c01\u88c5\uff0c\u4e13\u6ce8\u4e8e\u6267\u884c\u590d\u6742\u7684\u539f\u751fSQL\u67e5\u8be2\u548c\u66f4\u65b0\u3002"}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.strong,{children:"\u65b9\u6cd5\u5217\u8868"}),"\uff1a"]}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u65b9\u6cd5"}),(0,r.jsx)(d.th,{children:"\u8bf4\u660e"}),(0,r.jsx)(d.th,{children:"\u53c2\u6570"}),(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"update(sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u6267\u884c\u66f4\u65b0\u3001\u63d2\u5165\u6216\u5220\u9664\u64cd\u4f5c"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"int"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"batchUpdate(sql, batchArgs)"})}),(0,r.jsx)(d.td,{children:"\u6267\u884c\u6279\u91cf\u66f4\u65b0\u64cd\u4f5c"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, List<Object[]>)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"int[]"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"execute(sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u6267\u884c\u4efb\u610fSQL\u8bed\u53e5"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"int"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"executeQuietly(sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u6267\u884cSQL\u5ffd\u7565\u5f02\u5e38"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"int"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findOne(cls, sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u67e5\u8be2\u5355\u6761\u8bb0\u5f55\u5e76\u6620\u5c04\u5230Java Bean"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Class<T>, String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"T"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findOneMap(sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u67e5\u8be2\u5355\u6761\u8bb0\u5f55\u5e76\u8fd4\u56deMap"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"Map<String, Object>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findAll(cls, sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u67e5\u8be2\u591a\u6761\u8bb0\u5f55\u5e76\u6620\u5c04\u5230Java Bean\u5217\u8868"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Class<T>, String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"List<T>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findAllMap(sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u67e5\u8be2\u591a\u6761\u8bb0\u5f55\u5e76\u8fd4\u56deMap\u5217\u8868"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"List<Map<String, Object>>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findScalar(sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u7b2c\u4e00\u4e2a\u503c"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"Object"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findLong(sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u7b2c\u4e00\u4e2a\u503c\u5e76\u8f6c\u6362\u4e3aLong"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"Long"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findInteger(sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u7b2c\u4e00\u4e2a\u503c\u5e76\u8f6c\u6362\u4e3aInteger"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"Integer"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findColumnList(elementType, sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u67e5\u8be2\u67d0\u4e00\u5217\u5e76\u8fd4\u56de\u8be5\u5217\u503c\u7684\u5217\u8868"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Class<T>, String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"List<T>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"exists(sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u68c0\u67e5\u8bb0\u5f55\u662f\u5426\u5b58\u5728"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"boolean"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findMapDict(sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u67e5\u8be2\u5217\u8868\u5e76\u7ec4\u88c5\u6210\u5b57\u5178Map"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"Map<String, Object>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findBeanMap(cls, sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u67e5\u8be2\u5217\u8868\u5e76\u6620\u5c04\u5230Map\uff0c\u4ee5\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u4f5c\u4e3a\u952e"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Class<V>, String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"Map<K, V>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findMapKeyed(sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u67e5\u8be2\u5217\u8868\u5e76\u6620\u5c04\u5230Map\uff0c\u4ee5\u7b2c\u4e00\u5217\u4f5c\u4e3a\u952e"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"Map<K, Map<String, Object>>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"findAll(cls, pageable, sql, params...)"})}),(0,r.jsx)(d.td,{children:"\u6267\u884c\u5206\u9875\u67e5\u8be2\u5e76\u8fd4\u56dePage\u5bf9\u8c61"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Class<T>, Pageable, String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"Page<T>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"insert(tableName, bean)"})}),(0,r.jsx)(d.td,{children:"\u6839\u636eBean\u6570\u636e\u52a8\u6001\u6784\u5efaSQL\u63d2\u5165\u8bb0\u5f55"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"int"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"insert(tableName, map)"})}),(0,r.jsx)(d.td,{children:"\u6839\u636eMap\u6570\u636e\u52a8\u6001\u6784\u5efaSQL\u63d2\u5165\u8bb0\u5f55"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Map<String, Object>)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"int"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"updateById(table, bean)"})}),(0,r.jsx)(d.td,{children:"\u6839\u636eBean\u6570\u636e\u66f4\u65b0\u8bb0\u5f55"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"int"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"updateById(table, map)"})}),(0,r.jsx)(d.td,{children:"\u6839\u636eMap\u6570\u636e\u66f4\u65b0\u8bb0\u5f55"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Map<String, Object>)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"int"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"update(table, bean, whereClause, whereParams...)"})}),(0,r.jsx)(d.td,{children:"\u901a\u7528\u66f4\u65b0"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Object, String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"int"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"update(table, map, whereClause, whereParams...)"})}),(0,r.jsx)(d.td,{children:"\u901a\u7528\u66f4\u65b0"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, Map<String, Object>, String, Object...)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"int"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"tableExists(tableName)"})}),(0,r.jsx)(d.td,{children:"\u68c0\u67e5\u8868\u662f\u5426\u5b58\u5728"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"boolean"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"columnExists(tableName, columnName)"})}),(0,r.jsx)(d.td,{children:"\u68c0\u67e5\u5217\u662f\u5426\u5b58\u5728"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String, String)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"boolean"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"dropTable(tableName)"})}),(0,r.jsx)(d.td,{children:"\u5220\u9664\u8868"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"int"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"getTableNames()"})}),(0,r.jsx)(d.td,{children:"\u83b7\u53d6\u6240\u6709\u8868\u540d"}),(0,r.jsx)(d.td,{children:"-"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"Set<String>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"getColumnLabels(sql)"})}),(0,r.jsx)(d.td,{children:"\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u7684\u5217\u6807\u7b7e"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(String)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"String[]"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"generateCreateTableSql(cls, tableName)"})}),(0,r.jsx)(d.td,{children:"\u6839\u636e\u7c7b\u7ed3\u6784\u751f\u6210CREATE TABLE\u8bed\u53e5"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Class<?>, String)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"String"})})]})]})]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.strong,{children:"\u4f7f\u7528\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-java",children:'import io.github.jiangood.openadmin.lang.jdbc.DbTool;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.PageRequest;\n\n// \u67e5\u8be2\u5355\u4e2a\u7528\u6237\nUser user = dbTool.findOne(User.class, "SELECT * FROM user WHERE id = ?", 1);\n\n// \u67e5\u8be2\u7528\u6237\u5217\u8868\nList<User> users = dbTool.findAll(User.class, "SELECT * FROM user WHERE status = ?", 1);\n\n// \u5206\u9875\u67e5\u8be2\nPageable pageable = PageRequest.of(0, 10);\nPage<User> userPage = dbTool.findAll(User.class, pageable, "SELECT * FROM user", new Object[]{});\n\n// \u63d2\u5165\u6570\u636e\nUser user = new User();\nuser.setName("\u5f20\u4e09");\nuser.setAge(25);\ndbTool.insert("t_user", user);\n\n// \u66f4\u65b0\u6570\u636e\ndbTool.updateById("t_user", user);\n\n// \u68c0\u67e5\u8bb0\u5f55\u662f\u5426\u5b58\u5728\nboolean exists = dbTool.exists("SELECT * FROM user WHERE name = ?", "\u5f20\u4e09");\n'})}),"\n",(0,r.jsx)(d.h2,{id:"loginutils",children:"LoginUtils"}),"\n",(0,r.jsx)(d.p,{children:"\u767b\u5f55\u7528\u6237\u4fe1\u606f\u83b7\u53d6\u5de5\u5177\u7c7b\u3002"}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.strong,{children:"\u65b9\u6cd5\u5217\u8868"}),"\uff1a"]}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u65b9\u6cd5"}),(0,r.jsx)(d.th,{children:"\u8bf4\u660e"}),(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"getUserId()"})}),(0,r.jsx)(d.td,{children:"\u83b7\u53d6\u5f53\u524d\u767b\u5f55\u7528\u6237ID"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"String"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"getUser()"})}),(0,r.jsx)(d.td,{children:"\u83b7\u53d6\u5f53\u524d\u767b\u5f55\u7528\u6237\u4fe1\u606f"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"LoginUser"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"getOrgPermissions()"})}),(0,r.jsx)(d.td,{children:"\u83b7\u53d6\u5f53\u524d\u767b\u5f55\u7528\u6237\u673a\u6784\u6743\u9650"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"List<String>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"getPermissions()"})}),(0,r.jsx)(d.td,{children:"\u83b7\u53d6\u5f53\u524d\u767b\u5f55\u7528\u6237\u6743\u9650"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"List<String>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"getRoles()"})}),(0,r.jsx)(d.td,{children:"\u83b7\u53d6\u5f53\u524d\u767b\u5f55\u7528\u6237\u89d2\u8272"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"List<String>"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"isAdmin()"})}),(0,r.jsx)(d.td,{children:"\u5224\u65ad\u5f53\u524d\u7528\u6237\u662f\u5426\u4e3a\u7ba1\u7406\u5458"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"boolean"})})]})]})]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.strong,{children:"\u4f7f\u7528\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-java",children:'import io.github.jiangood.openadmin.modules.common.LoginTool;\n\n// \u83b7\u53d6\u5f53\u524d\u767b\u5f55\u7528\u6237ID\nString userId = LoginTool.getUserId();\n\n// \u83b7\u53d6\u5f53\u524d\u767b\u5f55\u7528\u6237\u4fe1\u606f\nLoginUser user = LoginTool.getUser();\n\n// \u83b7\u53d6\u5f53\u524d\u767b\u5f55\u7528\u6237\u6743\u9650\nList<String> permissions = LoginTool.getPermissions();\n\n// \u5224\u65ad\u5f53\u524d\u7528\u6237\u662f\u5426\u4e3a\u7ba1\u7406\u5458\nboolean isAdmin = LoginTool.isAdmin();\n\n// \u6743\u9650\u68c0\u67e5\u793a\u4f8b\nif (!LoginTool.isAdmin() && !LoginTool.getPermissions().contains("user:edit")) {\n    throw new AccessDeniedException("\u65e0\u6743\u9650\u7f16\u8f91\u7528\u6237");\n}\n'})}),"\n",(0,r.jsx)(d.h2,{id:"remarkutils",children:"RemarkUtils"}),"\n",(0,r.jsx)(d.p,{children:"\u83b7\u53d6\u5b57\u6bb5\u3001\u7c7b\u3001\u679a\u4e3e\u7b49\u7684@Remark\u6ce8\u89e3\u503c\u7684\u5de5\u5177\u7c7b\u3002"}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.strong,{children:"\u65b9\u6cd5\u5217\u8868"}),"\uff1a"]}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u65b9\u6cd5"}),(0,r.jsx)(d.th,{children:"\u8bf4\u660e"}),(0,r.jsx)(d.th,{children:"\u53c2\u6570"}),(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"getRemark(field)"})}),(0,r.jsx)(d.td,{children:"\u83b7\u53d6\u5b57\u6bb5\u7684Remark\u6ce8\u89e3\u503c"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Field)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"String"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"getRemark(cls)"})}),(0,r.jsx)(d.td,{children:"\u83b7\u53d6\u7c7b\u7684Remark\u6ce8\u89e3\u503c"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Class<?>)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"String"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"getRemark(enum)"})}),(0,r.jsx)(d.td,{children:"\u83b7\u53d6\u679a\u4e3e\u7684Remark\u6ce8\u89e3\u503c"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Enum<?>)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"String"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"getRemark(method)"})}),(0,r.jsx)(d.td,{children:"\u83b7\u53d6\u65b9\u6cd5\u7684Remark\u6ce8\u89e3\u503c"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"(Method)"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"String"})})]})]})]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.strong,{children:"\u4f7f\u7528\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-java",children:'import io.github.jiangood.openadmin.lang.annotation.RemarkTool;\nimport java.lang.reflect.Field;\n\n// \u83b7\u53d6\u7c7b\u7684Remark\u6ce8\u89e3\u503c\nString className = RemarkTool.getRemark(User.class);\n\n// \u83b7\u53d6\u5b57\u6bb5\u7684Remark\u6ce8\u89e3\u503c\nField nameField = User.class.getDeclaredField("name");\nString fieldName = RemarkTool.getRemark(nameField);\n\n// \u83b7\u53d6\u679a\u4e3e\u7684Remark\u6ce8\u89e3\u503c\nString enumRemark = RemarkTool.getRemark(UserStatus.ACTIVE);\n'})})]})}function x(e={}){const{wrapper:d}={...(0,i.R)(),...e.components};return d?(0,r.jsx)(d,{...e,children:(0,r.jsx)(j,{...e})}):j(e)}},8453(e,d,n){n.d(d,{R:()=>c,x:()=>l});var s=n(6540);const r={},i=s.createContext(r);function c(e){const d=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(d):{...d,...e}},[d,e])}function l(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(i.Provider,{value:d},e.children)}}}]);